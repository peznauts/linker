<!DOCTYPE html>
<!doctype html>
<html lang="en">
<head>
    {% set canonical_url = remote_url | default('https://links.peznauts.com') %}
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, width=device-width, height=device-height, shrink-to-fit=no"" />

    <meta name="
        description" content="Link services for humans" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

    <meta property="article:publisher" content="https://www.facebook.com/dr.carter.cpu" />

    <meta property="og:site_name" content="linker" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="linker" />
    <meta property="og:description" content="{{ linker_page_description | default('Link services for humans') }}" />
    <meta property="og:url" content="{{ canonical_url }}" />
    <meta property="og:image" content="{{ url_for('static', filename='img/linker-logo.png', _external=True) }}" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="linker" />
    <meta name="twitter:description" content="{{ linker_page_description | default('Link services for humans') }}" />
    <meta name="twitter:url" content="{{ canonical_url }}" />
    <meta name="twitter:site" content="@cloudnull" />

    <title>linker</title>

    <link rel="shortcut icon" href="/favicon.ico" type="image/ico" />
    <link rel="canonical" href="{{ canonical_url }}" />

    <link href="{{ url_for('static', filename='bootstrap/css/bootstrap.min.css') }}" rel="stylesheet" media="screen">
    <link href="{{ url_for('static', filename='open-iconic/font/css/open-iconic-bootstrap.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/linker.css') }}" rel="stylesheet" media="screen">
    <link href="{{ url_for('static', filename='highlight.js/styles/default.min.css') }}" rel="stylesheet" media="screen">
    <link href="{{ url_for('static', filename='loading-btn/loading.css') }}" rel="stylesheet" media="screen">
    <link href="{{ url_for('static', filename='loading-btn/loading-btn.css') }}" rel="stylesheet" media="screen">
    <link href="{{ url_for('static', filename='favicon.ico') }}" rel="shortcut icon">
</head>
<body>
    <main id="site-main" class="site-main outer" role="main">
        <header>
            <legend class="linker-container legend">
                <a class="text-info" style="text-decoration: none; max-width: 100%;" href="{{ url_for('index') }}">Linker </a>
                <span class="small text-muted">Services for humans</span>
            </legend>
        </header>
        <div class="container">
            <div class="text-center">
                <p class="display-4"><span class="text-info">Linker</span> a simplification server</p>
            </div>
            <div class="row">
                <div class="col-sm-6">
                    <div class="card-body">
                        <h5 class="card-title">Total number of links being served {{ count }}</h5>
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="container-fluid">
                    <div id="accordion">
                        {% for item in links %}
                        <p>
                            <a class="btn btn-primary" data-toggle="collapse" href="#multiCollapseExample{{ loop.index }}" role="button" aria-expanded="false" aria-controls="multiCollapseExample{{ loop.index }}">
                                <span class="badge badge-light">{{ item.2 }}</span>
                                {{ item.0 }}
                            </a>
                        </p>
                        <div class="row">
                            <div class="col">
                                <div class="collapse multi-collapse" id="multiCollapseExample{{ loop.index }}">
                                    <div class="collapse multi-collapse d-flex justify-content-between" id="multiCollapseExample{{ loop.index }}">
                                        {% set get_link = url_for("get_link", link_id=item.0, _external=True) %}
                                        <button id="cp_btn{{ loop.index }}" class="btn btn-outline-info" role="button"
                                                onclick="copy_span('cp_btn{{ loop.index }}', '{{ get_link }}')"
                                                data-toggle="tooltip" data-placement="bottom"
                                                title="&#x270D; Click the URL to copy the simplified value into the clipboard."
                                                value="Copy To Clipboard">
                                            Copy
                                        </button>
                                        <div class="card card-body">
                                            {{ item.1 }}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </main>
</body>
<footer>
    <script src="{{ url_for('static', filename='js/jquery-3.2.1.slim.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/popper.min.js') }}"></script>
    <script src="{{ url_for('static', filename='bootstrap/js/bootstrap.min.js') }}"></script>
    <script src="{{ url_for('static', filename='highlight.js/highlight.pack.js') }}"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <script data-ad-client='{{ config["GOOGLE_ADSENSE"] }}' async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id={{ config['GOOGLE_ANALYTICS'] }}"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() { dataLayer.push(arguments); }
      gtag('js', new Date());
      gtag('config', '{{ config["GOOGLE_ANALYTICS"] }}');
    </script>

    <script>
      $(function(){
          var twoToneButton = document.querySelector('.twoToneButton');
          twoToneButton.addEventListener("click", function() {
              twoToneButton.classList.add('running');
              twoToneButton.innerHTML = 'Working <div class="ld ld-ring ld-spin"></div>';
            setTimeout(
                function  (){
                    twoToneButton.classList.remove('running');
                    twoToneButton.setAttribute("style", "width: 175px;");
                    twoToneButton.innerHTML = "Stalled, click to retry";
                }, 6000);
          }, false);
      });
    </script>
    <script>
        // Adding event listener whern the "copy to clipboard button is pressed"
        function copy_span(id_info, text) {
            var copyText = document.getElementById(id_info);
            var textArea = document.createElement("textarea");
            textArea.value = text;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand("Copy");
            textArea.remove();
        }
    </script>
</footer>
</html>
